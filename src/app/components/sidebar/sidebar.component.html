<!-- Contenedor principal (colapsable) -->
<div class="sidebar" [class.collapsed]="isCollapsed">
  <!-- Botón "Nuevo chat" (visible en ambos estados) -->
  <button class="btn btn-new-chat" (click)="createNewChat()">
    <i class="bi bi-plus-lg"></i>
    <span *ngIf="!isCollapsed">Nuevo chat</span>
  </button>

  <!-- Barra de búsqueda (solo expandido) -->
  <div class="sidebar-search" *ngIf="!isCollapsed">
    <input
      type="text"
      placeholder="Buscar chats..."
      [(ngModel)]="searchQuery"
    />
    <i class="bi bi-search"></i>
  </div>

  <!-- Lista de chats agrupados por fecha (solo expandido) -->
  <div class="chat-history" *ngIf="!isCollapsed">
    <!-- Hoy -->
    <div class="chat-group" *ngIf="todaysChats.length > 0">
      <h5 class="group-title">Hoy</h5>
      <div
        class="chat-item"
        *ngFor="let chat of todaysChats"
        (click)="selectChat(chat.id)"
      >
        <i class="bi bi-chat-left-text"></i>
        <span>{{ chat.title }}</span>
      </div>
    </div>

    <!-- Ayer -->
    <div class="chat-group" *ngIf="yesterdaysChats.length > 0">
      <h5 class="group-title">Ayer</h5>
      <div
        class="chat-item"
        *ngFor="let chat of yesterdaysChats"
        (click)="selectChat(chat.id)"
      >
        <i class="bi bi-chat-left-text"></i>
        <span>{{ chat.title }}</span>
      </div>
    </div>

    <!-- Anteriores -->
    <div class="chat-group" *ngIf="olderChats.length > 0">
      <h5 class="group-title">Anteriores</h5>
      <div
        class="chat-item"
        *ngFor="let chat of olderChats"
        (click)="selectChat(chat.id)"
      >
        <i class="bi bi-chat-left-text"></i>
        <span>{{ chat.title }}</span>
      </div>
    </div>
  </div>
</div>
